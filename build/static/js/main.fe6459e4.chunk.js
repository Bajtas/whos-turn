(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,a){e.exports=a(32)},23:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(9),l=a.n(s),i=a(8),c=a(10),o=a(3),u=a(4),m=a(6),d=a(5),p=a(7),h=function(e){return r.a.createElement("header",{className:"App-header ".concat(e.start?"start":"")},"Whos Turn?")},y=function(e){return r.a.createElement("section",{className:"description"},r.a.createElement("div",null,"Are you playing some board game and everybody is still asking"," ",r.a.createElement("i",null,'"who\'s turn?"')),r.a.createElement("div",{className:"use-it"},"This simple app was made for you"),e.children)},v=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={players:[],playerName:""},a.addNewPlayer=function(){a.state.playerName&&a.setState({players:Object(c.a)(a.state.players).concat([a.state.playerName]),playerName:""})},a.handleNewPlayerNameChange=function(e){a.setState(Object(i.a)({},a.state,{playerName:e.target.value}))},a.removePlayer=function(e){a.setState(Object(i.a)({players:a.state.players.splice(e,1)},a.state))},a.handleEnterKeyPress=function(e){13===(e.keyCode?e.keyCode:e.which)&&a.addNewPlayer()},a.startPlay=function(){a.props.onStartPlay(a.state.players)},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"player-list"},this.state.players.map(function(t,a){return r.a.createElement("div",{className:"player-list--name",key:"".concat(t,"_").concat(a)},r.a.createElement("label",null,t),r.a.createElement("button",{onClick:function(){return e.removePlayer(a)}},"x"))}),r.a.createElement("div",{className:"add-new-player"},r.a.createElement("label",{id:"player-name",className:"player-name-label"},"Player name"),r.a.createElement("input",{id:"player-name",value:this.state.playerName,onChange:this.handleNewPlayerNameChange,onKeyPress:this.handleEnterKeyPress,type:"text",className:"player-name"}),r.a.createElement("button",{onClick:this.addNewPlayer},"+")),r.a.createElement("div",{className:"start-section"},r.a.createElement("button",{className:"start-btn",onClick:this.startPlay},"Start")))}}]),t}(r.a.Component),f=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.players,a=e.index;return r.a.createElement("div",{className:"player-name"},t[a])}}]),t}(r.a.Component),b=a(2),E=a.n(b),g=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){a.intervalHandler=setInterval(function(){return a.setState({})},15)},a.componentWillReceiveProps=function(e){a.props.start!==e.start&&(clearInterval(a.intervalHandler),a.intervalHandler=setInterval(function(){return a.setState({})},15))},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.start,a=e.avgTurnTimes;return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"time"},E.a.duration(E()().diff(t)).format("mm:ss",{trim:!1})),a&&a.avg&&r.a.createElement("header",{className:"avg-time"},"Avg turn time:",a.avg.format("mm:ss",{trim:!1})))}}]),t}(r.a.Component),j=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.turn;return r.a.createElement("div",{className:"turn"},"Turn: ",e)}}]),t}(r.a.Component),N=(a(23),a(14)),O=a.n(N),w=a(15);O()(E.a);var k={space:{sequence:"space",action:"keyup"}},P=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={start:!1,players:[],index:0,turn:0,avgTurnsTimes:[]},a.onStartPlay=function(e){e.length>0&&(a.setState({start:!0,players:e,index:0,turnStart:E()()}),function(e){for(var t,a,n=e.length;0!==n;)a=Math.floor(Math.random()*n),t=e[n-=1],e[n]=e[a],e[a]=t}(e))},a.hotkeyHandlers={space:function(e){if(a.state.start){var t=a.state.avgTurnsTimes.find(function(e){return e.index===a.state.index}),n=[];t?(t.times.push({start:a.state.turnStart,end:E()()}),t.avg=E.a.duration(t.times.map(function(e){return e.end.diff(e.start)}).map(function(e){return E.a.duration(e).asMilliseconds()}).reduce(function(e,t){return e+t},0)/t.times.length),n=Object(c.a)(a.state.avgTurnsTimes)):n=[{index:a.state.index,times:[{start:a.state.turnStart,end:E()()}]}],a.setState(Object(i.a)({},a.state,{turnStart:E()(),avgTurnsTimes:n,index:a.state.index+1>=a.state.players.length?0:a.state.index+1,turn:a.state.index+1>=a.state.players.length?a.state.turn+1:a.state.turn}))}}},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(w.HotKeys,{keyMap:k,handlers:this.hotkeyHandlers},r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"main-section"},r.a.createElement(h,{start:this.state.start}),!this.state.start&&r.a.createElement(r.a.Fragment,null,r.a.createElement(y,null,r.a.createElement(v,{onStartPlay:this.onStartPlay})))),this.state.start&&r.a.createElement("div",{className:"current-palayer-section"},r.a.createElement(f,this.state),r.a.createElement(g,{start:this.state.turnStart,avgTurnTimes:this.state.avgTurnsTimes.find(function(t){return t.index===e.state.index})}),r.a.createElement(j,{turn:this.state.turn}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[18,2,1]]]);
//# sourceMappingURL=main.fe6459e4.chunk.js.map